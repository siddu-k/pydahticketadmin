<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="admin.css">
</head>

<body>
        <div class="header-logo">
        <!-- College Logo -->
        <img src="logo1.avif" alt="Pydah College Logo" class="college-logo">
      </div>

  <div class="container">
    <!-- Header Section -->
    <header class="text-center p-3 bg-primary text-white">
      <h1><i class="fas fa-tools"></i> Admin Dashboard</h1>
      <!-- College Name -->
      <p class="mt-2 font-weight-bold">Pydah College of Engineering</p>
    </header>

    <!-- Login Form Section -->
    <div id="loginForm" class="login-form shadow p-4 mt-4 bg-white rounded">
      <h2 class="text-center mb-4"><i class="fas fa-user-lock"></i> Login</h2>
      <div class="mb-3">
        <input type="email" id="username" class="form-control" placeholder="Email Address" required>
      </div>
      <div class="mb-3">
        <input type="password" id="password" class="form-control" placeholder="Password" required>
      </div>
      <button id="loginButton" class="btn btn-primary w-100">
        <i class="fas fa-sign-in-alt"></i> Login
      </button>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard" class="dashboard" style="display:none;">
      <h2 class="mt-4"><i class="fas fa-ticket-alt"></i> Ticket Management</h2>
      <ul id="ticketsList" class="list-group mt-3">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Ticket #123
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Ticket #124
        </li>
      </ul>
    </div>

    <!-- Ticket Details Section -->
    <div id="ticketDetails" class="ticket-details shadow p-4 mt-4 bg-white rounded" style="display:none;">
      <h3 class="mb-3"><i class="fas fa-info-circle"></i> Ticket Details</h3>  
      <p2><strong>Delete the completed tickets to avoid storage overload</strong></p2>

      <p><strong>Subject:</strong> <span id="ticketSubject"></span></p>
      <p><strong>Name:</strong> <span id="ticketName"></span></p>
      <p><strong>Email:</strong> <span id="ticketEmail"></span></p>
      <p><strong>Phone:</strong> <span id="ticketPhone"></span></p>
      <p><strong>PIN:</strong> <span id="ticketPin"></span></p>
      <p><strong>Problem:</strong> <span id="ticketProblem"></span></p>
      <p><strong>Status:</strong>
        <select id="ticketStatus" class="form-select">
          <option value="On Hold">On Hold</option>
          <option value="Accepted">Approved</option>
          <option value="Under Verification">Under Verification</option>
        </select>
      </p>
      <button id="updateStatusButton" class="btn btn-success me-2">
        <i class="fas fa-check-circle"></i> Update Status
      </button>
      <button id="backButton" class="btn btn-secondary me-2">
        <i class="fas fa-arrow-left"></i> Back to Dashboard
      </button>
      <button id="deleteButton" class="btn btn-danger">
        <i class="fas fa-trash-alt"></i> Delete Ticket
      </button>
      <button id="downloadTicketButton" >Download Ticket as PDF
      </button>
      <button id="mailButton" class="btn btn-info">
        <i class="fas fa-envelope"></i> Mail
      </button>

    </div>

<!-- Popup with iframe -->
<div id="iframePopup" class="popup" style="display: none;">
  <div class="popup-content">
    <span id="closePopup" class="close-btn">&times;</span>
    <h3>Fill the Form</h3>
    <iframe 
      src="https://forms.gle/2AsR6o8hQVT7en9B8" 
      frameborder="0" 
      width="100%" 
      height="400px" 
      style="border-radius: 8px;">
    </iframe>
    <div class="popup-actions">
      <button id="copyEmailButton" class="btn btn-primary">
        <i class="fas fa-copy"></i> Copy Email
      </button>
    </div>
  </div>
</div>




    <!-- Footer Section -->
    <footer class="text-center p-3 mt-4 bg-light">
      <p>&copy; 2024 Pydah College of Engineering. All Rights Reserved.</p>
    </footer>
  </div>

  <script type="module" src="admin.js"></script>
  <script>
    // Confirmation prompt for ticket deletion
    document.getElementById("deleteButton").addEventListener("click", function () {
      const isConfirmed = confirm("Are you sure you want to delete this ticket?");
      if (isConfirmed) {
        // Perform the delete operation
        alert("Ticket deleted successfully!"); // Placeholder for actual deletion logic
      } else {
        alert("Ticket deletion canceled."); // Optional feedback
      }
    });
  </script>

  <!-- Delete Confirmation Modal -->
  <div id="deleteModal" class="modal" style="display: none;">
    <div class="modal-content">
      <p>Are you sure you want to delete this ticket? This action cannot be undone.</p>
      <div class="modal-actions">
        <button id="confirmDelete" class="btn btn-danger">Confirm</button>
        <button id="cancelDelete" class="btn btn-secondary">Cancel</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


</body>

</html>